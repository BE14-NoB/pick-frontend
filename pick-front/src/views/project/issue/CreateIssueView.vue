<template>
    <section class="page-wrapper">
        <div class="form-layout">
            <!-- ì™¼ìª½: Form ì…ë ¥ -->
            <div class="form-left">
                <FormEditor v-model:titleModel="issueTitle" v-model:contentModel="issueContent" titleLabel="ì´ìŠˆ ì œëª©"
                    contentLabel="ì´ìŠˆ ì„¤ëª…" @cancel="goToIssues" @submit="createIssue" />
            </div>

            <!-- ì˜¤ë¥¸ìª½: ë“œë¡­ë‹¤ìš´ -->
            <div class="form-right">
                <ProjectDropdwon label="ìƒì„±ì" v-model="selectedCreator" :options="creatorOptions" />
                <ProjectDropdwon label="í”„ë¡œì íŠ¸" v-model="selectedProject" :options="projectOptions" />
            </div>
        </div>
    </section>
</template>


<script setup>
import { ref } from 'vue'

// ë¼ìš°í„°
import { useRouter } from 'vue-router'
const router = useRouter()

// ì‘ì„± í¼ ê´€ë ¨
import FormEditor from '@/components/project/FormEditor.vue'
const issueTitle = ref('')
const issueBody = ref('')

// ì´ìŠˆ ëª©ë¡ìœ¼ë¡œ ì´ë™
function goToIssues() {
    router.push('/project/issues')
}

// ìƒì„±í•˜ê¸° ë²„íŠ¼
function createIssue() {
    goToIssues();

    // ğŸš©TODO: ì‹¤ì œ API ì—°ê²°
}

// ë“œë¡­ë‹¤ìš´ ê´€ë ¨
import ProjectDropdwon from '@/components/project/ProjectDropdown.vue'
const selectedCreator = ref('seokhee')
const selectedProject = ref('pick')

const creatorOptions = [
    { label: 'ì„í‚¤í‚¥í‚¤í‚¤', value: 'seokhee' },
    { label: 'í™ê¸¸ë™', value: 'hong' },
]

const projectOptions = [
    { label: 'PICK', value: 'pick' },
    { label: 'AI ë¦¬í¬íŠ¸', value: 'ai-report' },
]

</script>

<style scoped>
.page-wrapper {
    width: 100%;
    margin-top: 50px;
    padding: 0px;
}

/* ì „ì²´ ì˜ì—­ ì¤‘ì•™ ì •ë ¬ */
.form-layout {
    max-width: 1150px;
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    gap: 2rem;
}

/* ì™¼ìª½ ì…ë ¥ ì˜ì—­ */
.form-left {
    flex: 2;
}

/* ë“œë¡­ë‹¤ìš´ ì˜ì—­: ì™¼ìª½ì— ì‚´ì§ ë¶™ì€ ëŠë‚Œ */
.form-right {
    flex: 1;
    display: flex;
    flex-direction: column;

    /* ì¶”ê°€ í¬ì¸íŠ¸ */
    padding-top: 1.8rem;

    margin-left: 50px;

    /* í¼ ë¼ë²¨ê³¼ ë§ì¶”ê¸° ìœ„í•œ ì„¸ë¡œ ì •ë ¬ */
    min-width: 80px;
    max-width: 280px;
}
</style>